define("core_search/activityselector",["exports","core/ajax"],(function(_exports,_ajax){var obj;
/**
   * Activity selector for the reindex form.
   *
   * @module core_search/activityselector
   * @copyright 2024 The Open University
   * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.processResults=function(selector,results){const output=[];for(let result of results)output.push({value:result.cmid,label:result.name});return output},_exports.transport=async function(selector,query,success,failure){const courseSelection=document.querySelector(selector).closest("form").querySelector("select[name=courseid] ~ .form-autocomplete-selection"),courseId=parseInt(courseSelection.dataset.activeValue);try{const response=await _ajax.default.call([{methodname:"core_search_get_course_activities",args:{courseid:courseId,query:query}}]);success(response)}catch(e){failure(e)}},_ajax=(obj=_ajax)&&obj.__esModule?obj:{default:obj}}));

//# sourceMappingURL=activityselector.min.js.map